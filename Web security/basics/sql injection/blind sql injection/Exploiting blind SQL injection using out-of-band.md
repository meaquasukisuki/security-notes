
# Exploiting blind SQL injection using out-of-band ([OAST](https://portswigger.net/burp/application-security-testing/oast)) techniques



***When to use?***

If we have tried all method and you are sure there's a sql injection point, you can use OAST techniques. I prefer it dns lookup method.
If the response complete only when sql query completes, we can just use time delay method. When it comes async, that means the response may complete without the completion of sql query. (That is often used in modern web).


In real world attacking
1. we need to have a server that has dns log enabled.
2. use union attack or others to do a dns lookup query. This can refer to sql injection cheat sheet.
3. Check dns log, and find the info.
<br>


lab : ** Blind SQL injection with out-of-band data exfiltration**

This lab contains a [blind SQL injection](https://portswigger.net/web-security/sql-injection/blind) vulnerability. The application uses a tracking cookie for analytics, and performs an SQL query containing the value of the submitted cookie.

The SQL query is **executed asynchronously** and has no effect on the application's response. However, you can trigger out-of-band interactions with an external domain.

The database contains a different table called `users`, with columns called `username` and `password`. You need to exploit the blind [SQL injection](https://portswigger.net/web-security/sql-injection) vulnerability to find out the password of the `administrator` user.

To solve the lab, log in as the `administrator` user.

<br>
The server can be provided by burpsuite pro version.

![[Pasted image 20211021031709.png]]
Burp -> burp collaborator client

dns log server:  *2cf5k4cmox3of2od1fionpatuk0aoz.burpcollaborator.net*

find sql cheat sheet :
![[Pasted image 20211021031948.png]]

use union attack send dns lookup request and get password : 
![[Pasted image 20211021032614.png]]

burp collaborator client click pull now: 

password is underlined.
![[Pasted image 20211021032731.png]]



I don't know what the query meaning right now, needs more information and studying.



